<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản Lý Sản Phẩm</title>
    <style>
        body { font-family: Arial, sans-serif; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid black; padding: 8px; text-align: left; }
        th { background-color: #dadce4; }
        .category { margin-top: 20px; }
    </style>
</head>
<body>
<h1>Danh Sách Sản Phẩm</h1>
<div class="category">
    <label for="category">Chọn danh mục:</label>
    <select id="category">
        <option value="all">Tất cả</option>
        <option value="but">Bút</option>
        <option value="giay">Giấy</option>
    </select>7t
</div>
<input placeholder="ID" id="id" type="number">
<input placeholder="Tên" id="name" type="text">
<input placeholder="Giá" id="price" type="number">
<input placeholder="Số lượng" id="number" type="number">
<button onclick="addNewProduct()">Thêm</button>
<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Tên</th>
        <th>Giá</th>
        <th>Số lượng</th>
        <th>Thành tiền</th>
        <th>Chỉnh sửa</th>
        <th>Xóa</th>
    </tr>
    </thead>
    <tbody id="products"></tbody>
</table>
<script>
    class Product {
        constructor(id, name, price, number, category) {
            this.id = id;
            this.name = name;
            this.price = price;
            this.number = number;
            this.category = category;
        }
        getAmount() {
            return this.number * this.price;
        }
    }

    let products = [
        new Product("01", "Bút thiên long", 3000, 100, "but"),
        new Product("02", "Bút chì", 7000, 80, "but"),
        new Product("03", "Giấy hồng hà", 30000, 100, "giay")
    ];

    function showAllProducts() {
        let categoryFilter = document.getElementById("category").value;
        let content = "";
        for (let i = 0; i < products.length; i++) {
            if (categoryFilter === "all" || products[i].category === categoryFilter) {
                content += `<tr>
                <td>${products[i].id}</td>
                <td>${products[i].name}</td>
                <td>${products[i].price}</td>
                <td>${products[i].number}</td>
                <td>${products[i].getAmount()}</td>
                <td><button>Edit</button></td>
                <td><button onclick="deleteByIndex(${i})">Delete</button></td>
            </tr>`;
            }
        }
        document.getElementById("products").innerHTML = content;
    }

    document.getElementById("category").addEventListener("change", showAllProducts);
    showAllProducts();

    function addNewProduct() {
        let id = document.getElementById("id").value;
        let name = document.getElementById("name").value;
        let price = +document.getElementById("price").value;
        let number = +document.getElementById("number").value;
        let category = document.getElementById("category").value;
        let newProduct = new Product(id, name, price, number, category);
        products.push(newProduct);
        showAllProducts();
    }

    function deleteByIndex(index) {
        products.splice(index, 1);
        showAllProducts();
    }
</script>
</body>
</html>
